<h1>Tasks</h1>


<% if @tasks.length > 0 %>
    <ul>  
        <% @tasks.each do |task| %>
            <li> <%= link_to task.name, task_path(task.id) %> </li>
            <p> <%= task.description %> <br /> 
              <% if !task.completed_at.empty? %> 
                Completed at: <%= task.completed_at %>
              <% end %>
            </p>
            <p>
              <%= link_to "Edit Task", edit_task_path(task.id)%>
              OR
              <%= link_to "Delete This Task", task_path(task.id), method: :delete, data: { confirm: "Are you sure you want to delete this task?" } %>
              OR
              <%= link_to "Mark Task Complete", mark_complete_path(task.id), method: :patch %>
            </p>
        <% end %>
    </ul>
<% else %>
    <h3> No tasks in the system! </h3>
<% end %>
<p><%= link_to "Add a Task", new_task_path %> </p>
